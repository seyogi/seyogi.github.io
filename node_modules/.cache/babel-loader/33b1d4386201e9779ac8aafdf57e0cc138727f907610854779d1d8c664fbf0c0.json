{"ast":null,"code":"import { axios } from \"../../axios/index\";\nexport default {\n  components: {},\n  data() {\n    return {\n      errmsg: \"\",\n      scoreDatas: {\n        NOTES: []\n      },\n      uploadFile: null,\n      csvText: \"\",\n      config: {\n        headers: {\n          \"content-type\": \"multipart/form-data\"\n        }\n      }\n    };\n  },\n  mounted() {\n    document.getElementById(\"vis\").style.display = \"none\";\n  },\n  methods: {\n    selectedFile: function (e) {\n      e.preventDefault();\n      let files = e.target.files;\n      this.uploadFile = files[0];\n    },\n    changeTextArea: function () {\n      let csvTextArea = document.getElementById(\"csvTextArea\");\n      this.csvText = csvTextArea.value;\n    },\n    click() {\n      this.errmsg = \"\";\n      var formData = new FormData();\n      if (this.uploadFile) {\n        formData.append(\"file\", this.uploadFile);\n        this.send_file(formData).then(response => {\n          this.scoreDatas = response.data.message;\n          document.getElementById(\"vis\").style.display = \"block\";\n        });\n      } else if (this.csvText != \"\") {\n        formData.append(\"text\", this.csvText);\n        this.send_text(formData).then(response => {\n          this.scoreDatas = response.data.message;\n          document.getElementById(\"vis\").style.display = \"block\";\n        });\n      } else {\n        this.errmsg = \"ファイルまたはテキストを入力してください\";\n      }\n    },\n    receive_data() {\n      axios.get(\"iidx/downloaddata/?uid=\" + this.$parent.user.uid, this.config).then(response => {\n        this.scoreDatas = response.data.message;\n        document.getElementById(\"vis\").style.display = \"block\";\n      });\n    },\n    send_file(file) {\n      return axios.post(\"iidx/uploadfile/?uid=\" + this.$parent.user.uid, file, this.config);\n    },\n    send_text(text) {\n      return axios.post(\"iidx/uploadtext/?displayNum=\" + this.numInput, text, this.config);\n    }\n  }\n};","map":{"version":3,"names":["axios","components","data","errmsg","scoreDatas","NOTES","uploadFile","csvText","config","headers","mounted","document","getElementById","style","display","methods","selectedFile","e","preventDefault","files","target","changeTextArea","csvTextArea","value","click","formData","FormData","append","send_file","then","response","message","send_text","receive_data","get","$parent","user","uid","file","post","text","numInput"],"sources":["C:\\Users\\taich\\Documents\\GitHub\\home\\src\\components\\iidxradarparts\\iidxListSet.vue"],"sourcesContent":["<template>\r\n  <div class=\"main_box\">\r\n    <br />\r\n    ※同一曲について複数譜面タイプ（B/N/H/A/L）をプレーしている場合、それらの中の最大値のみが対象として適用されます\r\n    <br />\r\n    <textarea\r\n      id=\"csvTextArea\"\r\n      name=\"csv_text\"\r\n      rows=\"10\"\r\n      cols=\"33\"\r\n      @change=\"changeTextArea\"\r\n    />\r\n    <br />\r\n    <input type=\"file\" id=\"csvFile\" name=\"avatar\" accept=\".csv\" @change=\"selectedFile\" />\r\n    <br /><br />{{ this.errmsg }}\r\n    <br />\r\n    <input type=\"button\" id=\"sendButton\" value=\"Go\" @click=\"click()\" />\r\n    <br />\r\n    <input type=\"button\" id=\"aaa\" value=\"Go2\" @click=\"receive_data()\" />\r\n    <br />\r\n    <br />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { axios } from \"../../axios/index\";\r\n\r\nexport default {\r\n  components: {},\r\n  data() {\r\n    return {\r\n      errmsg: \"\",\r\n      scoreDatas: {\r\n        NOTES: [],\r\n      },\r\n      uploadFile: null,\r\n      csvText: \"\",\r\n      config: {\r\n        headers: {\r\n          \"content-type\": \"multipart/form-data\",\r\n        },\r\n      },\r\n    };\r\n  },\r\n  mounted() {\r\n    document.getElementById(\"vis\").style.display = \"none\";\r\n  },\r\n  methods: {\r\n    selectedFile: function (e) {\r\n      e.preventDefault();\r\n      let files = e.target.files;\r\n      this.uploadFile = files[0];\r\n    },\r\n    changeTextArea: function () {\r\n      let csvTextArea = document.getElementById(\"csvTextArea\");\r\n      this.csvText = csvTextArea.value;\r\n    },\r\n    click() {\r\n      this.errmsg = \"\";\r\n      var formData = new FormData();\r\n      if (this.uploadFile) {\r\n        formData.append(\"file\", this.uploadFile);\r\n        this.send_file(formData).then((response) => {\r\n          this.scoreDatas = response.data.message;\r\n          document.getElementById(\"vis\").style.display = \"block\";\r\n        });\r\n      } else if (this.csvText != \"\") {\r\n        formData.append(\"text\", this.csvText);\r\n        this.send_text(formData).then((response) => {\r\n          this.scoreDatas = response.data.message;\r\n          document.getElementById(\"vis\").style.display = \"block\";\r\n        });\r\n      } else {\r\n        this.errmsg = \"ファイルまたはテキストを入力してください\";\r\n      }\r\n    },\r\n    receive_data() {\r\n      axios.get(\"iidx/downloaddata/?uid=\" + this.$parent.user.uid, this.config).then((response) => {\r\n          this.scoreDatas = response.data.message;\r\n          document.getElementById(\"vis\").style.display = \"block\";\r\n        });\r\n    },\r\n    send_file(file) {\r\n      return axios.post(\"iidx/uploadfile/?uid=\" + this.$parent.user.uid, file, this.config);\r\n    },\r\n    send_text(text) {\r\n      return axios.post(\"iidx/uploadtext/?displayNum=\" + this.numInput, text, this.config);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.main_box {\r\n  text-align: center;\r\n  margin: auto;\r\n  width: 98%;\r\n}\r\ninput[type=\"text\"] {\r\n  width: 200px;\r\n  height: 200px;\r\n}\r\ntable {\r\n  border: solid 1px #ccc;\r\n  border-collapse: collapse;\r\n  margin: auto;\r\n}\r\nth {\r\n  padding: 5px;\r\n  border: solid 1px #ccc;\r\n  background-color: #eee;\r\n}\r\ntd {\r\n  height: 25px;\r\n  padding: 5px;\r\n  border: solid 1px #ccc;\r\n}\r\n</style>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}